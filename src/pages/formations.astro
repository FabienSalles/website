---
import Layout from '../layouts/Layout.astro';

const formations = [
  {
    slug: 'phpunit',
    title: 'PHPUnit : écrire des tests qui durent',
    hook: 'Arrête de subir tes tests. Fais-en des alliés.',
    problem: 'Tes tests cassent sans raison ? Ils prennent trop de temps à écrire et à maintenir ?',
    promise: 'En 2 jours, apprends à écrire des tests qui te font gagner du temps au lieu d\'en perdre.',
    highlights: [
      'Ce qu\'est vraiment un test unitaire',
      'Maîtriser Mocks, Stubs, Fakes',
      'Savoir quand et quoi tester',
      'Écrire des tests qui durent'
    ],
    duration: '2 jours',
    featured: false
  },
  {
    slug: 'git',
    title: 'Git avancé',
    hook: 'Arrête de subir Git. Reprends le contrôle de ton historique.',
    problem: 'Tu utilises Git tous les jours mais tu ne le comprends pas vraiment ?',
    promise: 'Passe de "ça marche je sais pas pourquoi" à "je sais exactement ce que je fais".',
    highlights: [
      'Branches, merge et rebase sans stress',
      'Résoudre les conflits sereinement',
      'Choisir le bon workflow d\'équipe',
      'Techniques avancées : squash, fixup, worktree'
    ],
    duration: '2 jours',
    featured: false
  },
  {
    slug: 'ddd',
    title: 'Domain-Driven Design',
    hook: 'Arrête de subir ton organisation. Aligne-la avec tes besoins.',
    problem: 'Le métier et la tech ne se comprennent pas ? Tu subis un couplage qui crée des régressions ?',
    promise: 'Aligne ton équipe technique et produit pour livrer ce qui compte vraiment.',
    highlights: [
      'Aligne équipe tech et produit',
      'Comprends les problèmes pour trouver les bonnes solutions',
      'Isole ton code et ton équipe correctement',
      'Mets en avant la complexité métier et mets de côté celle qui te gêne'
    ],
    duration: '3 à 5 jours',
    featured: false
  }
];

const stats = {
  developers: '98+',
  sessions: '20+',
  since: '2017'
};
---

<Layout
  title="Formations PHPUnit, Git, DDD - Fabien Salles"
  description="Des formations pratiques pour arrêter de subir tes outils. PHPUnit, Git, DDD : en 2 à 5 jours, maîtrise vraiment ce que tu utilises tous les jours."
>
  <div class="container mx-auto px-4 py-12">

    <!-- HERO SECTION -->
    <section class="text-center py-12 mb-12">
      <h1 class="text-4xl md:text-5xl font-bold mb-6 leading-tight">
        Arrête de subir ton environnement.<br>
        <span class="text-orange-700">Maîtrise-le vraiment.</span>
      </h1>
      <p class="text-xl text-gray-600 max-w-3xl mx-auto mb-4 leading-relaxed">
        Des formations pratiques, sans bullshit, pour ceux qui veulent comprendre
        ce qu'ils font.
      </p>
      <!-- Stats inline -->
      <div class="flex flex-wrap justify-center gap-8 text-sm text-gray-600 mb-8">
        <div class="flex items-center gap-2">
          <span class="text-2xl font-bold text-gray-900">{stats.developers}</span>
          <span>développeurs formés</span>
        </div>
        <div class="flex items-center gap-2">
          <span class="text-2xl font-bold text-gray-900">{stats.sessions}</span>
          <span>sessions depuis {stats.since}</span>
        </div>
      </div>
    </section>

    <!-- FORMATIONS GRID -->
    <section id="formations" class="mb-16 scroll-mt-8">
      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {formations.map((formation) => (
          <a
            href={`/formations/${formation.slug}`}
            class={`group p-6 border rounded-lg hover:shadow-xl transition-all duration-300 flex flex-col ${formation.featured ? 'border-orange-300 bg-orange-50/30 ring-1 ring-orange-200' : 'border-gray-200 hover:border-orange-300'}`}
          >
            {formation.featured && (
              <div class="text-xs font-semibold text-orange-700 uppercase tracking-wide mb-2">
                Formation phare
              </div>
            )}

            <h2 class="text-xl font-bold mb-3 group-hover:text-orange-700 transition-colors">
              {formation.title}
            </h2>

            <p class="text-orange-700 font-semibold mb-3">
              {formation.hook}
            </p>

            <p class="text-gray-600 text-sm mb-4">
              {formation.problem}
            </p>

            <p class="text-gray-700 mb-4 flex-grow">
              {formation.promise}
            </p>

            <ul class="space-y-2 text-gray-600 text-sm mb-6">
              {formation.highlights.map((item) => (
                <li class="flex items-start gap-2">
                  <span class="text-green-500 mt-0.5">✓</span>
                  <span>{item}</span>
                </li>
              ))}
            </ul>

            <div class="mt-auto pt-4 border-t border-gray-200 flex items-center justify-between">
              <span class="text-sm font-medium text-gray-900">
                {formation.duration}
              </span>
              <span class="text-orange-700 group-hover:text-orange-800 font-semibold transition-colors flex items-center gap-1">
                Découvrir
                <svg class="w-4 h-4 transform group-hover:translate-x-1 transition-transform" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
                </svg>
              </span>
            </div>
          </a>
        ))}
      </div>
    </section>

    <!-- TÉMOIGNAGE COURT -->
    <section class="mb-16 bg-gray-50 -mx-4 px-4 py-10 md:rounded-lg md:mx-0 md:px-12">
      <div class="max-w-3xl mx-auto">
        <blockquote class="text-center">
          <p class="text-xl text-gray-700 mb-6 leading-relaxed">
            "Bonne pédagogie. Beaucoup d'informations importantes qui permettent
            de réfléchir sur l'importance des tests pour clarifier le code."
          </p>
          <footer class="text-gray-600">
            <span class="font-semibold">Igor G.</span> — Participant formation PHPUnit
          </footer>
        </blockquote>
      </div>
    </section>

    <!-- FORMATION SUR MESURE -->
    <section class="mb-16">
      <div class="bg-gradient-to-br from-gray-900 to-gray-800 text-white p-8 md:p-12 rounded-lg">
        <div class="max-w-3xl">
          <h2 class="text-2xl md:text-3xl font-bold mb-4">
            Formation sur mesure
          </h2>
          <p class="text-gray-300 text-lg mb-8 leading-relaxed">
            Je peux adapter mes formations à tes besoins spécifiques et au niveau de ton équipe.
            N'hésite pas à me contacter pour discuter de tes objectifs.
          </p>
          <a
            href="/contact?subject=formation-sur-mesure"
            class="inline-block bg-white text-gray-900 px-6 py-3 rounded-lg font-semibold hover:bg-gray-100 transition-colors"
          >
            On en discute ?
          </a>
        </div>
      </div>
    </section>

    <!-- INFO NDA (discret mais présent) -->
    <section class="text-center text-sm text-gray-500 border-t border-gray-200 pt-8">
      <p>
        <strong class="text-gray-700">Organisme de formation déclaré</strong> —
        Numéro de déclaration d'activité (NDA) auprès de la DREETS.
        Formations exonérées de TVA (article 261-4-4°a du CGI).
      </p>
    </section>

  </div>
</Layout>
